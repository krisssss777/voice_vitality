<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>æˆ‘çš„ Gemini AI åŠ©ç† (å®‰å…¨ç‰ˆ)</title>
    <style>
        body { font-family: sans-serif; max-width: 600px; margin: 50px auto; padding: 20px; line-height: 1.6; }
        #chat-box { border: 1px solid #ccc; height: 300px; overflow-y: scroll; padding: 10px; margin-bottom: 10px; background: #f9f9f9; }
        input { width: 80%; padding: 10px; }
        button { padding: 10px; cursor: pointer; background: #4285f4; color: white; border: none; }
    </style>
</head>
<body>
    <h2>ğŸš€ Gemini å®‰å…¨å¯¦é©—å®¤</h2>
    <div id="chat-box">ç³»çµ±ï¼šç®¡å®¶å·²åœ¨å¾Œå°å¾…å‘½...</div>
    <input type="text" id="userInput" placeholder="å‚³è¨Šæ¯çµ¦ Python ç®¡å®¶...">
    <button onclick="askGemini()">é€å‡º</button>

    <script type="module">
        window.askGemini = async function() {
            const input = document.getElementById('userInput');
            const chatBox = document.getElementById('chat-box');
            if (!input.value) return;

            const userMsg = input.value;
            chatBox.innerHTML += `<div><b>ä½ ï¼š</b>${userMsg}</div>`;
            input.value = '';

            try {
                // é€™è£¡æœƒé€£å‘ä½ é›»è…¦æ­£åœ¨è·‘çš„ http://127.0.0.1:5000
                const response = await fetch('http://127.0.0.1:5000/ask', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ message: userMsg })
                });
                const data = await response.json();
                chatBox.innerHTML += `<div><b>ç®¡å®¶å›å ±ï¼š</b>${data.reply}</div>`;
            } catch (error) {
                chatBox.innerHTML += `<div style="color:red"><b>éŒ¯èª¤ï¼š</b>é€£ä¸ä¸Šç®¡å®¶ï¼è«‹æª¢æŸ¥ Python è¦–çª—æ˜¯å¦å‡ºç¾ Running on http://127.0.0.1:5000</div>`;
            }
            chatBox.scrollTop = chatBox.scrollHeight;
        }
    </script>
</body>
</html>
